<div class="form"
	 [formGroup]="signup">
	<div *ngIf="!allowRegister">
		<h2 class="text-center">Oh no!</h2>
		<p>Registration is temporarily unavailable. Please check again later.</p>
	</div>

	<div *ngIf="allowRegister">
		<div class="logo logo__container">
			<mat-icon class="icon icon__lock">lock</mat-icon>
		</div>

		<h2 class="text-center">Register</h2>

		<div class="error" *ngIf="error.length">
			{{ error }}
		</div>

		<mat-form-field class="fw-full">
			<input matInput placeholder="First Name" formControlName="first_name">
		</mat-form-field>

		<mat-form-field class="fw-full">
			<input matInput placeholder="Last Name" formControlName="last_name">
		</mat-form-field>

		<mat-form-field class="fw-full">
			<input matInput placeholder="Email" formControlName="email">
		</mat-form-field>

		<mat-form-field class="fw-full">
			<input matInput placeholder="Password"
				   type="password"
				   [formGroup]="signup"
				   formControlName="password">
		</mat-form-field>

		<mat-form-field
			class="fw-full">
			<input matInput placeholder="Confirm Password"
				   type="password"
				   [formGroup]="signup"
				   name="confirm_password"
				   formControlName="confirm_password">
		</mat-form-field>

		<div class="form-actions">
			<button mat-raised-button class="fw-full"
					[ngClass]="{'disabled': !signup.valid || loading, 'loader': loading}"
					[disabled]="!signup.valid || loading"
					(click)="registerUser()">
				<mat-spinner *ngIf="loading" diameter="25" color="warn"></mat-spinner>
				<span *ngIf="!loading">Sign Up</span>
			</button>
		</div>
	</div>
</div>

<p class="copy">
	<span>
		Already have an account?
		<button (click)="animateToLogin()">Login</button>
	</span>
</p>
